<!DOCTYPE html>
<html lang="da">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NemEDI Workflow - SPY System</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="/workflows/i18n.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,600;1,400;1,600&family=Raleway:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --spy-black: #1a1a1a;
            --spy-dark: #0f0f0f;
            --spy-gold: #c9a227;
            --spy-gold-light: #d4b84a;
            --spy-white: #ffffff;
            --spy-gray: #888888;
            --spy-gray-light: #b3b3b3;
            --spy-gray-dark: #333333;
            --spy-red: #e74c3c;
            --spy-red-dark: #c0392b;
            --spy-green: #2ecc71;
            --spy-blue: #3498db;
        }
        
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { 
            font-family: 'Raleway', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--spy-black);
            min-height: 100vh;
            padding: 40px;
            color: var(--spy-white);
        }
        .container { max-width: 1400px; margin: 0 auto; }
        h1 { 
            text-align: center; 
            margin-bottom: 10px; 
            font-size: 2.5em;
            font-family: 'Raleway', sans-serif;
            font-weight: 600;
        }
        .subtitle { text-align: center; color: var(--spy-gray); margin-bottom: 40px; }
        
        .workflow-section {
            background: rgba(255,255,255,0.03);
            border: 1px solid var(--spy-gray-dark);
            border-radius: 16px;
            padding: 30px;
            margin-bottom: 30px;
        }
        .section-title {
            font-size: 1.4em;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--spy-gold);
            font-family: 'Raleway', sans-serif;
            font-weight: 600;
        }
        
        .flow-container {
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .flow-box {
            background: var(--spy-dark);
            border: 1px solid var(--spy-gray-dark);
            border-radius: 12px;
            padding: 15px;
            min-width: 130px;
            text-align: center;
            transition: all 0.3s ease;
        }
        .flow-box:hover {
            border-color: var(--spy-gold);
            background: rgba(201, 162, 39, 0.05);
        }
        
        .flow-box.external { border-top: 3px solid #3498db; }
        .flow-box.spy { border-top: 3px solid var(--spy-gold); }
        .flow-box.customer { border-top: 3px solid #2ecc71; }
        .flow-box.error { border-top: 3px solid var(--spy-red); background: rgba(231, 76, 60, 0.1); }
        
        .flow-box-icon { font-size: 1.8em; margin-bottom: 8px; }
        .flow-box-title { font-weight: 600; margin-bottom: 5px; color: var(--spy-white); font-size: 0.9em; }
        .flow-box-desc { font-size: 0.75em; color: var(--spy-gray); }
        
        .arrow {
            font-size: 1.5em;
            color: var(--spy-gold);
        }
        .arrow.bidirectional { color: var(--spy-blue); }
        .arrow.error { color: var(--spy-red); }
        
        .doc-types {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .doc-card {
            background: var(--spy-dark);
            border: 1px solid var(--spy-gray-dark);
            border-radius: 10px;
            padding: 15px;
            overflow: hidden;
            transition: all 0.3s ease;
        }
        .doc-card:hover {
            border-color: var(--spy-gold);
        }
        .doc-card.import { border-left: 3px solid #3498db; }
        .doc-card.export { border-left: 3px solid #2ecc71; }
        .doc-card.ack { border-left: 3px solid #9b59b6; }
        
        .doc-card-title { 
            font-weight: 600; 
            margin-bottom: 8px; 
            color: var(--spy-gold);
        }
        .doc-card-full { font-size: 0.8em; color: var(--spy-gray); margin-bottom: 8px; }
        .doc-card-desc { font-size: 0.85em; color: var(--spy-gray-light); }
        
        .code-path {
            font-family: 'Monaco', 'Consolas', monospace;
            font-size: 0.7em;
            color: var(--spy-gold);
            background: rgba(201, 162, 39, 0.1);
            padding: 4px 8px;
            border-radius: 4px;
            display: inline-block;
            margin-top: 8px;
            word-break: break-all;
            white-space: normal;
        }
        
        .legend {
            display: flex;
            gap: 20px;
            justify-content: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }
        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.9em;
        }
        .legend-color {
            width: 16px;
            height: 16px;
            border-radius: 4px;
        }
        .legend-color.external { background: #3498db; }
        .legend-color.spy { background: var(--spy-gold); }
        .legend-color.customer { background: #2ecc71; }
        .legend-color.error { background: var(--spy-red); }
        .legend-color.ack { background: #9b59b6; }
        
        .code-structure {
            font-family: 'Monaco', 'Consolas', monospace;
            font-size: 0.85em;
            line-height: 1.8;
            background: var(--spy-dark);
            padding: 20px;
            border-radius: 8px;
            border: 1px solid var(--spy-gray-dark);
        }
        .code-structure .folder { color: var(--spy-gold); }
        .code-structure .comment { color: var(--spy-gray); }
        
        .flow-label {
            text-align: center;
            font-size: 0.85em;
            color: var(--spy-gray);
            margin-bottom: 10px;
            font-style: italic;
        }
        
        .scenario-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .scenario-card {
            background: var(--spy-dark);
            border: 1px solid var(--spy-gray-dark);
            border-radius: 10px;
            padding: 20px;
        }
        .scenario-card.error { border-left: 3px solid var(--spy-red); }
        .scenario-card.warning { border-left: 3px solid #f39c12; }
        .scenario-card.success { border-left: 3px solid var(--spy-green); }
        
        .scenario-title {
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--spy-white);
        }
        .scenario-desc {
            font-size: 0.9em;
            color: var(--spy-gray-light);
            line-height: 1.6;
        }
        
        .error-list {
            list-style: none;
            padding: 0;
        }
        .error-list li {
            padding: 8px 0;
            border-bottom: 1px solid var(--spy-gray-dark);
            font-size: 0.9em;
        }
        .error-list li:last-child { border-bottom: none; }
        .error-list .error-code { color: var(--spy-red); font-family: monospace; }
        .error-list .error-desc { color: var(--spy-gray-light); }
        
        .link-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .link-card {
            background: var(--spy-dark);
            border: 1px solid var(--spy-gray-dark);
            border-radius: 10px;
            padding: 20px;
            text-decoration: none;
            transition: all 0.3s ease;
        }
        .link-card:hover {
            border-color: var(--spy-gold);
            background: rgba(201, 162, 39, 0.05);
        }
        .link-card-title {
            color: var(--spy-gold);
            font-weight: 600;
            margin-bottom: 8px;
        }
        .link-card-desc {
            color: var(--spy-gray-light);
            font-size: 0.85em;
        }
        
        .footer-text {
            text-align: center;
            color: var(--spy-gray);
            margin-top: 40px;
            font-size: 0.9em;
        }
        .footer-text span { color: var(--spy-gold); }
        
        .info-box {
            background: rgba(52, 152, 219, 0.1);
            border: 1px solid rgba(52, 152, 219, 0.3);
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            font-size: 0.9em;
        }
        .info-box.warning {
            background: rgba(243, 156, 18, 0.1);
            border-color: rgba(243, 156, 18, 0.3);
        }
    </style>
</head>
<body style="opacity:0;transition:opacity .15s">
    <div id="root"></div>
    
    <script type="text/babel">
        const Arrow = ({ direction = "right", error = false }) => {
            const symbols = {
                right: "‚Üí",
                left: "‚Üê",
                both: "‚Üî"
            };
            return <span className={`arrow ${direction === 'both' ? 'bidirectional' : ''} ${error ? 'error' : ''}`}>{symbols[direction]}</span>;
        };
        
        const FlowBox = ({ icon, title, desc, type }) => (
            <div className={`flow-box ${type}`}>
                <div className="flow-box-icon">{icon}</div>
                <div className="flow-box-title">{title}</div>
                <div className="flow-box-desc">{desc}</div>
            </div>
        );
        
        const DocCard = ({ code, fullName, desc, direction, path }) => (
            <div className={`doc-card ${direction}`}>
                <div className="doc-card-title">{code}</div>
                <div className="doc-card-full">{fullName}</div>
                <div className="doc-card-desc">{desc}</div>
                {path && <div className="code-path">{path}</div>}
            </div>
        );
        
        const ScenarioCard = ({ title, desc, type }) => (
            <div className={`scenario-card ${type}`}>
                <div className="scenario-title">{title}</div>
                <div className="scenario-desc">{desc}</div>
            </div>
        );
        
        const NemEDIWorkflow = ({ t = (k) => k, locale = 'da' }) => {
            return (
                <div className="container">
                    <h1>{t("NemEDI Integration Workflow")}</h1>
                    <p className="subtitle">{t("Visualisering af SPY's EDI dokumentflow med NemEDI")}</p>
                    
                    <div className="legend">
                        <div className="legend-item">
                            <div className="legend-color external"></div>
                            <span>{t("Ekstern part (leverand√∏r)")}</span>
                        </div>
                        <div className="legend-item">
                            <div className="legend-color spy"></div>
                            <span>{t("SPY System")}</span>
                        </div>
                        <div className="legend-item">
                            <div className="legend-color customer"></div>
                            <span>{t("Kunde")}</span>
                        </div>
                        <div className="legend-item">
                            <div className="legend-color error"></div>
                            <span>{t("Fejltilstand")}</span>
                        </div>
                        <div className="legend-item">
                            <div className="legend-color ack"></div>
                            <span>{t("Kvittering")}</span>
                        </div>
                    </div>
                    
                    {/* INDK√òBSFLOW */}
                    <div className="workflow-section">
                        <h2 className="section-title">{t("üì¶ Indk√∏bsflow (SPY k√∏ber fra leverand√∏r)")}</h2>
                        <p className="flow-label">{t("Happy path: Ordre ‚Üí Bekr√¶ftelse ‚Üí Levering ‚Üí Faktura")}</p>
                        <div className="flow-container">
                            <FlowBox icon="üè¢" title="SPY" desc={t("Opretter indk√∏bsordre")} type="spy" />
                            <Arrow direction="right" />
                            <FlowBox icon="üì§" title="ORDERS" desc={t("Send til leverand√∏r")} type="spy" />
                            <Arrow direction="right" />
                            <FlowBox icon="üè≠" title={t("Leverand√∏r")} desc={t("Bekr√¶fter")} type="external" />
                            <Arrow direction="right" />
                            <FlowBox icon="üìÑ" title="ORDRSP" desc={t("Ordrebekr√¶ftelse")} type="spy" />
                            <Arrow direction="right" />
                            <FlowBox icon="üìÑ" title="DESADV" desc={t("Forsendelsesadvis")} type="spy" />
                            <Arrow direction="right" />
                            <FlowBox icon="üìÑ" title="INVOIC" desc={t("K√∏bsfaktura")} type="spy" />
                            <Arrow direction="right" />
                            <FlowBox icon="‚úÖ" title={t("Komplet")} desc={t("Ordre afsluttet")} type="spy" />
                        </div>
                        
                        <p className="flow-label" style={{marginTop: '20px', color: 'var(--spy-red)'}}>{t("Fejlscenarie: Leverand√∏r kan ikke levere")}</p>
                        <div className="flow-container">
                            <FlowBox icon="üè≠" title={t("Leverand√∏r")} desc={t("Afviser ordre")} type="external" />
                            <Arrow direction="right" error />
                            <FlowBox icon="üìÑ" title="ORDRSP" desc={t("Negativ bekr√¶ftelse")} type="spy" />
                            <Arrow direction="right" error />
                            <FlowBox icon="‚ùå" title={t("Afvist")} desc={t("Kr√¶ver manuel handling")} type="error" />
                        </div>
                    </div>
                    
                    {/* SALGSFLOW */}
                    <div className="workflow-section">
                        <h2 className="section-title">{t("üí∞ Salgsflow (Kunde k√∏ber fra SPY)")}</h2>
                        <p className="flow-label">{t("Happy path: Ordre ‚Üí Bekr√¶ftelse ‚Üí Levering ‚Üí Faktura ‚Üí Kvittering")}</p>
                        <div className="flow-container">
                            <FlowBox icon="üõí" title={t("Kunde")} desc={t("Sender ordre")} type="customer" />
                            <Arrow direction="right" />
                            <FlowBox icon="üìÑ" title="ORDERS" desc={t("Kundeordre ind")} type="spy" />
                            <Arrow direction="right" />
                            <FlowBox icon="üì§" title="ORDRSP" desc={t("Bekr√¶ftelse ud")} type="spy" />
                            <Arrow direction="right" />
                            <FlowBox icon="üì¶" title={t("Pakkeri")} desc={t("Varer pakkes")} type="spy" />
                            <Arrow direction="right" />
                            <FlowBox icon="üì§" title="DESADV" desc={t("Forsendelsesadvis")} type="spy" />
                            <Arrow direction="right" />
                            <FlowBox icon="üì§" title="INVOIC" desc={t("Faktura ud")} type="spy" />
                            <Arrow direction="right" />
                            <FlowBox icon="üìÑ" title="RECADV" desc={t("Kvittering ind")} type="spy" />
                            <Arrow direction="right" />
                            <FlowBox icon="‚úÖ" title={t("Komplet")} desc={t("Ordre afsluttet")} type="spy" />
                        </div>
                        
                        <p className="flow-label" style={{marginTop: '20px', color: 'var(--spy-red)'}}>{t("Fejlscenarie: Varer ikke p√• lager")}</p>
                        <div className="flow-container">
                            <FlowBox icon="üìÑ" title="ORDERS" desc={t("Modtager ordre")} type="spy" />
                            <Arrow direction="right" error />
                            <FlowBox icon="‚ö†Ô∏è" title={t("Lagermangel")} desc={t("Ikke tilg√¶ngelig")} type="error" />
                            <Arrow direction="right" error />
                            <FlowBox icon="üì§" title="ORDRSP" desc={t("Negativ bekr√¶ftelse")} type="spy" />
                        </div>
                    </div>
                    
                    {/* RECADV SCENARIER */}
                    <div className="workflow-section">
                        <h2 className="section-title">{t("üìã RECADV Scenarier (Receiving Advice)")}</h2>
                        <p style={{color: 'var(--spy-gray)', marginBottom: '20px'}}>
                            {t("RECADV bruges til at kommunikere modtagelsesstatus fra kunde til leverand√∏r. Her er de forskellige scenarier:")}
                        </p>
                        
                        <div className="scenario-grid">
                            <ScenarioCard 
                                title={t("‚úÖ Fuld modtagelse")} 
                                desc={t("Alle varer modtaget i god stand. RECADV sendes med status 'accepteret' for alle linjer. Ordren kan afsluttes.")}
                                type="success"
                            />
                            <ScenarioCard 
                                title={t("‚ö†Ô∏è Delvis modtagelse")} 
                                desc={t("Kun nogle varer modtaget. RECADV indeholder modtaget antal pr. linje. Restordre kan oprettes automatisk.")}
                                type="warning"
                            />
                            <ScenarioCard 
                                title={t("üì¶ Beskadigede varer")} 
                                desc={t("Varer modtaget med skader. RECADV angiver beskadiget antal og √•rsagskode. Kan udl√∏se reklamation.")}
                                type="error"
                            />
                            <ScenarioCard 
                                title={t("‚ùì Forkerte varer")} 
                                desc={t("Modtaget andre varer end bestilt. RECADV med afvisningskode. Kr√¶ver manuel h√•ndtering og evt. returnering.")}
                                type="error"
                            />
                            <ScenarioCard 
                                title={t("üö´ Afvist levering")} 
                                desc={t("Hele leveringen afvises (f.eks. temperaturkrav ikke overholdt). RECADV med komplet afvisning af alle linjer.")}
                                type="error"
                            />
                            <ScenarioCard 
                                title={t("‚è∞ For sen levering")} 
                                desc={t("Varer modtaget efter aftalt tid. RECADV med note om forsinkelse. Kan p√•virke fremtidige ordrer.")}
                                type="warning"
                            />
                        </div>
                    </div>
                    
                    {/* FEJLH√ÖNDTERING */}
                    <div className="workflow-section">
                        <h2 className="section-title">{t("üîß Fejlh√•ndtering og Retry")}</h2>
                        
                        <div className="info-box">
                            <strong>{t("üí° Integrationslog:")}</strong> {t("Alle EDI-transaktioner logges i SPY under")} 
                            <code style={{background: 'rgba(201,162,39,0.2)', padding: '2px 6px', borderRadius: '4px', margin: '0 5px'}}>
                                {t("V√¶rkt√∏jer ‚Üí NemEDI ‚Üí Integrationslog")}
                            </code>
                            {t("Her kan du se status, fejlbeskeder og genprocessere fejlede transaktioner.")}
                        </div>
                        
                        <h3 style={{marginTop: '25px', marginBottom: '15px', color: 'var(--spy-gold)', fontSize: '1.1em'}}>{t("Retry-strategi")}</h3>
                        <ul className="error-list">
                            <li>
                                <span className="error-code">{t("Automatisk retry:")}</span>
                                <span className="error-desc"> {t("Ved timeout eller midlertidige fejl fors√∏ges afsendelse igen op til 3 gange med eksponentiel backoff (1, 5, 15 minutter)")}</span>
                            </li>
                            <li>
                                <span className="error-code">{t("Manuel retry:")}</span>
                                <span className="error-desc"> {t("Fejlede transaktioner kan gensendes manuelt fra integrationsloggen efter fejlrettelse")}</span>
                            </li>
                            <li>
                                <span className="error-code">{t("Batch-retry:")}</span>
                                <span className="error-desc"> {t("Flere fejlede transaktioner kan v√¶lges og genprocesseres samlet")}</span>
                            </li>
                        </ul>
                        
                        <h3 style={{marginTop: '25px', marginBottom: '15px', color: 'var(--spy-gold)', fontSize: '1.1em'}}>{t("Timeout-h√•ndtering")}</h3>
                        <ul className="error-list">
                            <li>
                                <span className="error-code">{t("Afsendelse:")}</span>
                                <span className="error-desc"> {t("30 sekunders timeout for API-kald til NemEDI. Ved timeout markeres transaktionen som \"afventer\" og retry p√•begyndes.")}</span>
                            </li>
                            <li>
                                <span className="error-code">{t("Modtagelse:")}</span>
                                <span className="error-desc"> {t("Polling hvert 5. minut for nye dokumenter. Ved fejl alarmeres via e-mail efter 3 fejlede fors√∏g.")}</span>
                            </li>
                            <li>
                                <span className="error-code">CONTRL/APERAK:</span>
                                <span className="error-desc"> {t("Kvittering forventes inden 24 timer. Manglende kvittering markeres som advarsel i loggen.")}</span>
                            </li>
                        </ul>
                        
                        <h3 style={{marginTop: '25px', marginBottom: '15px', color: 'var(--spy-red)', fontSize: '1.1em'}}>{t("Almindelige fejltyper")}</h3>
                        <ul className="error-list">
                            <li>
                                <span className="error-code">VALIDATION_ERROR:</span>
                                <span className="error-desc"> {t("Dokumentet overholder ikke EDI-format. Tjek p√•kr√¶vede felter (GLN, varenumre, m√¶ngder).")}</span>
                            </li>
                            <li>
                                <span className="error-code">AUTH_ERROR:</span>
                                <span className="error-desc"> {t("Autentificering fejlet. Tjek API-n√∏gle og certifikater i NemEDI-ops√¶tning.")}</span>
                            </li>
                            <li>
                                <span className="error-code">PARTNER_NOT_FOUND:</span>
                                <span className="error-desc"> {t("Modtagers GLN-nummer ikke fundet hos NemEDI. Bekr√¶ft partnerkonfiguration.")}</span>
                            </li>
                            <li>
                                <span className="error-code">DUPLICATE_ERROR:</span>
                                <span className="error-desc"> {t("Dokument med samme ID allerede sendt. Tjek om det er en reel dublet eller systemfejl.")}</span>
                            </li>
                            <li>
                                <span className="error-code">TIMEOUT_ERROR:</span>
                                <span className="error-desc"> {t("NemEDI svarede ikke i tide. Automatisk retry igangs√¶ttes.")}</span>
                            </li>
                            <li>
                                <span className="error-code">REJECTED_BY_PARTNER:</span>
                                <span className="error-desc"> {t("Modtager har afvist dokumentet. Se APERAK-besked for detaljer.")}</span>
                            </li>
                        </ul>
                    </div>
                    
                    {/* DOKUMENTTYPER */}
                    <div className="workflow-section">
                        <h2 className="section-title">{t("üìã EDI Dokumenttyper")}</h2>
                        
                        <h3 style={{marginTop: '20px', marginBottom: '15px', color: '#3498db', fontSize: '1.1em'}}>{t("üì• Import (modtages fra eksterne parter)")}</h3>
                        <div className="doc-types">
                            <DocCard code="ORDERS" fullName="Purchase Order" desc={t("Indg√•ende kundeordrer til SPY")} direction="import" path="class/EDI/NemEDI/.../Import/ORDERS/"/>
                            <DocCard code="ORDRSP" fullName="Order Response" desc={t("Ordrebekr√¶ftelse fra leverand√∏r p√• SPY's indk√∏bsordrer")} direction="import" path="class/EDI/NemEDI/.../Import/ORDRSP/"/>
                            <DocCard code="DESADV" fullName="Despatch Advice" desc={t("Forsendelsesadvis - leverand√∏r har afsendt varer")} direction="import" path="class/EDI/NemEDI/.../Import/DESADV/"/>
                            <DocCard code="RECADV" fullName="Receiving Advice" desc={t("Modtagelseskvittering fra kunde (accept, claims, retur)")} direction="import" path="class/EDI/NemEDI/.../Import/RECADV/"/>
                            <DocCard code="INVOIC" fullName="Invoice" desc={t("Indg√•ende k√∏bsfakturaer fra leverand√∏rer")} direction="import" path="class/EDI/NemEDI/.../Import/INVOIC/"/>
                        </div>
                        
                        <h3 style={{marginTop: '30px', marginBottom: '15px', color: '#2ecc71', fontSize: '1.1em'}}>{t("üì§ Export (sendes til eksterne parter)")}</h3>
                        <div className="doc-types">
                            <DocCard code="ORDERS" fullName="Purchase Order" desc={t("Udg√•ende indk√∏bsordrer til leverand√∏rer")} direction="export" path="class/EDI/NemEDI/.../Export/ORDERS/"/>
                            <DocCard code="ORDRSP" fullName="Order Response" desc={t("Ordrebekr√¶ftelse til kunder p√• deres ordrer")} direction="export" path="class/EDI/NemEDI/.../Export/ORDRSP/"/>
                            <DocCard code="DESADV" fullName="Despatch Advice" desc={t("Forsendelsesadvis til kunder - varer afsendt")} direction="export" path="class/EDI/NemEDI/.../Export/DESADV/"/>
                            <DocCard code="INVOIC" fullName="Invoice" desc={t("Salgsfakturaer til kunder")} direction="export" path="class/EDI/NemEDI/.../Export/INVOIC/"/>
                            <DocCard code="PRICAT" fullName="Price Catalogue" desc={t("Prisliste og produktkatalog til kunder")} direction="export" path="class/EDI/NemEDI/.../Export/PRICAT/"/>
                            <DocCard code="INVRPT" fullName="Inventory Report" desc={t("Lagerrapport til samarbejdspartnere")} direction="export" path="class/EDI/NemEDI/.../Export/INVRPT/"/>
                        </div>
                        
                        <h3 style={{marginTop: '30px', marginBottom: '15px', color: '#9b59b6', fontSize: '1.1em'}}>{t("üì® Kvitteringer (CONTRL/APERAK)")}</h3>
                        <div className="doc-types">
                            <DocCard code="CONTRL" fullName="Syntax Control" desc={t("Teknisk kvittering - bekr√¶fter at besked er modtaget syntaktisk korrekt")} direction="ack"/>
                            <DocCard code="APERAK" fullName="Application Error/Acknowledgement" desc={t("Applikationskvittering - bekr√¶fter at besked er behandlet eller afvist med fejlkode")} direction="ack"/>
                        </div>
                        
                        <div className="info-box" style={{marginTop: '20px'}}>
                            <strong>{t("üìù Note om kvitteringer:")}</strong> {t("CONTRL sendes automatisk ved modtagelse og bekr√¶fter syntaks. APERAK sendes efter forretningsvalidering og kan indeholde fejlkoder hvis dokumentet afvises. Begge h√•ndteres automatisk af NemEDI-integrationen.")}
                        </div>
                    </div>
                    
                    {/* API DOKUMENTATION */}
                    <div className="workflow-section">
                        <h2 className="section-title">{t("üîó API-dokumentation og Ressourcer")}</h2>
                        
                        <div className="link-section">
                            <a href="https://nemedi.dk/dokumentation" target="_blank" className="link-card">
                                <div className="link-card-title">{t("üìö NemEDI Dokumentation")}</div>
                                <div className="link-card-desc">{t("Officiel dokumentation for NemEDI API'et inkl. autentificering, endpoints og eksempler")}</div>
                            </a>
                            <a href="https://nemedi.dk/testmiljo" target="_blank" className="link-card">
                                <div className="link-card-title">{t("üß™ NemEDI Testmilj√∏")}</div>
                                <div className="link-card-desc">{t("Sandbox-milj√∏ til test af EDI-integration uden at p√•virke produktion")}</div>
                            </a>
                            <a href="https://www.gs1.dk/standarder/edi/eancom" target="_blank" className="link-card">
                                <div className="link-card-title">{t("üìã GS1 EANCOM Standard")}</div>
                                <div className="link-card-desc">{t("Detaljeret beskrivelse af EANCOM-meddelelsestyper og formatkrav")}</div>
                            </a>
                            <a href="https://nemedi.dk/partnere" target="_blank" className="link-card">
                                <div className="link-card-title">{t("ü§ù NemEDI Partnerportal")}</div>
                                <div className="link-card-desc">{t("Administrer partnere, GLN-numre og kommunikationsaftaler")}</div>
                            </a>
                            <a href="https://nemedi.dk/support" target="_blank" className="link-card">
                                <div className="link-card-title">{t("üÜò NemEDI Support")}</div>
                                <div className="link-card-desc">{t("Kontakt NemEDI support ved tekniske problemer eller sp√∏rgsm√•l")}</div>
                            </a>
                            <a href="https://spy-system.com/docs/edi" target="_blank" className="link-card">
                                <div className="link-card-title">{t("üìñ SPY EDI Guide")}</div>
                                <div className="link-card-desc">{t("SPY's egen guide til ops√¶tning og brug af NemEDI-integration")}</div>
                            </a>
                        </div>
                    </div>
                    
                    {/* KODESTRUKTUR */}
                    <div className="workflow-section">
                        <h2 className="section-title">{t("üóÇÔ∏è Kodestruktur i SPY")}</h2>
                        <div className="code-structure">
                            <span className="folder">class/EDI/NemEDI/</span><br/>
                            &nbsp;&nbsp;‚îú‚îÄ‚îÄ <span className="folder">Documents/</span><br/>
                            &nbsp;&nbsp;‚îÇ&nbsp;&nbsp;&nbsp;‚îú‚îÄ‚îÄ Import/ <span className="comment">‚Üê {t("Modtag EDI dokumenter")}</span><br/>
                            &nbsp;&nbsp;‚îÇ&nbsp;&nbsp;&nbsp;‚îÇ&nbsp;&nbsp;&nbsp;‚îú‚îÄ‚îÄ ORDERS/ <span className="comment">‚Üê {t("Kundeordrer")}</span><br/>
                            &nbsp;&nbsp;‚îÇ&nbsp;&nbsp;&nbsp;‚îÇ&nbsp;&nbsp;&nbsp;‚îú‚îÄ‚îÄ ORDRSP/ <span className="comment">‚Üê {t("Ordrebekr√¶ftelser fra leverand√∏r")}</span><br/>
                            &nbsp;&nbsp;‚îÇ&nbsp;&nbsp;&nbsp;‚îÇ&nbsp;&nbsp;&nbsp;‚îú‚îÄ‚îÄ DESADV/ <span className="comment">‚Üê {t("Forsendelsesadviser")}</span><br/>
                            &nbsp;&nbsp;‚îÇ&nbsp;&nbsp;&nbsp;‚îÇ&nbsp;&nbsp;&nbsp;‚îú‚îÄ‚îÄ RECADV/ <span className="comment">‚Üê {t("Modtagelseskvitteringer")}</span><br/>
                            &nbsp;&nbsp;‚îÇ&nbsp;&nbsp;&nbsp;‚îÇ&nbsp;&nbsp;&nbsp;‚îî‚îÄ‚îÄ INVOIC/ <span className="comment">‚Üê {t("K√∏bsfakturaer")}</span><br/>
                            &nbsp;&nbsp;‚îÇ&nbsp;&nbsp;&nbsp;‚îî‚îÄ‚îÄ Export/ <span className="comment">‚Üê {t("Send EDI dokumenter")}</span><br/>
                            &nbsp;&nbsp;‚îÇ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;‚îú‚îÄ‚îÄ ORDERS/ <span className="comment">‚Üê {t("Indk√∏bsordrer")}</span><br/>
                            &nbsp;&nbsp;‚îÇ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;‚îú‚îÄ‚îÄ ORDRSP/ <span className="comment">‚Üê {t("Ordrebekr√¶ftelser til kunde")}</span><br/>
                            &nbsp;&nbsp;‚îÇ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;‚îú‚îÄ‚îÄ DESADV/ <span className="comment">‚Üê {t("Forsendelsesadviser")}</span><br/>
                            &nbsp;&nbsp;‚îÇ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;‚îú‚îÄ‚îÄ INVOIC/ <span className="comment">‚Üê {t("Salgsfakturaer")}</span><br/>
                            &nbsp;&nbsp;‚îÇ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;‚îú‚îÄ‚îÄ PRICAT/ <span className="comment">‚Üê {t("Prislister")}</span><br/>
                            &nbsp;&nbsp;‚îÇ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;‚îî‚îÄ‚îÄ INVRPT/ <span className="comment">‚Üê {t("Lagerrapporter")}</span><br/><br/>
                            <span className="folder">applications/Spy/Controller/Tools/NemEDI/</span><br/>
                            &nbsp;&nbsp;‚îú‚îÄ‚îÄ ReceivedFiles/ <span className="comment">‚Üê {t("H√•ndter modtagne filer")}</span><br/>
                            &nbsp;&nbsp;‚îú‚îÄ‚îÄ IntegrationLog/ <span className="comment">‚Üê {t("Vis og administrer transaktioner")}</span><br/>
                            &nbsp;&nbsp;‚îú‚îÄ‚îÄ PartnerSetup/ <span className="comment">‚Üê {t("Konfigurer partnere og GLN")}</span><br/>
                            &nbsp;&nbsp;‚îú‚îÄ‚îÄ SalesDeliveries/<br/>
                            &nbsp;&nbsp;‚îú‚îÄ‚îÄ SalesInvoices/<br/>
                            &nbsp;&nbsp;‚îî‚îÄ‚îÄ SalesOrders/
                        </div>
                    </div>
                    
                    <p className="footer-text">
                        {t("Genereret af")} <span>Nova</span> | SPY ApS | {new Date().toLocaleDateString('da-DK')}
                    </p>
                </div>
            );
        };
        
        // Initialize i18n and render with translations
        (async function() {
            const { locale, t } = await window.i18n.initI18n('nemedi-workflow');
            ReactDOM.render(<NemEDIWorkflow t={t} locale={locale} />, document.getElementById('root'));
            document.body.style.opacity = '1';
            window.i18n.autoApplyTranslations(200);
        })();
    </script>
</body>
</html>
