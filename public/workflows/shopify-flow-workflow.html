<!DOCTYPE html>
<html lang="da">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shopify Flow Integration Workflow - SPY System</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="/workflows/i18n.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --spy-black: #1a1a1a;
            --spy-dark: #0f0f0f;
            --spy-gold: #c9a227;
            --spy-gold-light: #d4b84a;
            --spy-white: #ffffff;
            --spy-gray: #888888;
            --spy-gray-light: #b3b3b3;
            --spy-gray-dark: #333333;
            --shopify-green: #96bf48;
            --shopify-green-light: #b8d98a;
        }
        
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { 
            font-family: 'Raleway', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--spy-black);
            min-height: 100vh;
            padding: 40px;
            color: var(--spy-white);
        }
        .container { max-width: 1400px; margin: 0 auto; }
        h1 { 
            text-align: center; 
            margin-bottom: 10px; 
            font-size: 2.5em;
            font-family: 'Raleway', sans-serif;
            font-weight: 600;
        }
        .subtitle { text-align: center; color: var(--spy-gray); margin-bottom: 40px; }
        
        .workflow-section {
            background: rgba(255,255,255,0.03);
            border: 1px solid var(--spy-gray-dark);
            border-radius: 16px;
            padding: 30px;
            margin-bottom: 30px;
        }
        .section-title {
            font-size: 1.4em;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--spy-gold);
            font-family: 'Raleway', sans-serif;
            font-weight: 600;
        }
        
        .flow-container {
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 20px;
        }
        
        .flow-box {
            background: var(--spy-dark);
            border: 1px solid var(--spy-gray-dark);
            border-radius: 12px;
            padding: 20px;
            min-width: 160px;
            text-align: center;
            transition: all 0.3s ease;
        }
        .flow-box:hover {
            border-color: var(--spy-gold);
            background: rgba(201, 162, 39, 0.05);
        }
        
        .flow-box.shopify { border-top: 3px solid var(--shopify-green); }
        .flow-box.spy { border-top: 3px solid var(--spy-gold); }
        .flow-box.flow { border-top: 3px solid #9b59b6; }
        .flow-box.condition { border-top: 3px solid #e67e22; }
        
        .flow-box-icon { font-size: 2em; margin-bottom: 10px; }
        .flow-box-title { font-weight: 600; margin-bottom: 5px; color: var(--spy-white); }
        .flow-box-desc { font-size: 0.85em; color: var(--spy-gray); }
        
        .arrow {
            font-size: 2em;
            color: var(--spy-gold);
        }
        .arrow.reverse { color: var(--shopify-green); }
        
        .doc-types {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .doc-card {
            background: var(--spy-dark);
            border: 1px solid var(--spy-gray-dark);
            border-radius: 10px;
            padding: 15px;
            overflow: hidden;
            transition: all 0.3s ease;
        }
        .doc-card:hover {
            border-color: var(--spy-gold);
        }
        .doc-card.trigger { border-left: 3px solid var(--shopify-green); }
        .doc-card.action { border-left: 3px solid var(--spy-gold); }
        .doc-card.condition-card { border-left: 3px solid #e67e22; }
        
        .doc-card-title { 
            font-weight: 600; 
            margin-bottom: 8px; 
            color: var(--spy-gold);
        }
        .doc-card-full { font-size: 0.8em; color: var(--spy-gray); margin-bottom: 8px; }
        .doc-card-desc { font-size: 0.85em; color: var(--spy-gray-light); }
        
        .code-path {
            font-family: 'Monaco', 'Consolas', monospace;
            font-size: 0.7em;
            color: var(--spy-gold);
            background: rgba(201, 162, 39, 0.1);
            padding: 4px 8px;
            border-radius: 4px;
            display: inline-block;
            margin-top: 8px;
            word-break: break-all;
            white-space: normal;
        }
        
        .legend {
            display: flex;
            gap: 20px;
            justify-content: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }
        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.9em;
        }
        .legend-color {
            width: 16px;
            height: 16px;
            border-radius: 4px;
        }
        .legend-color.shopify { background: var(--shopify-green); }
        .legend-color.spy { background: var(--spy-gold); }
        .legend-color.flow { background: #9b59b6; }
        .legend-color.condition { background: #e67e22; }
        
        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        .info-card {
            background: var(--spy-dark);
            border: 1px solid var(--spy-gray-dark);
            border-radius: 10px;
            padding: 20px;
        }
        .info-card-title {
            font-weight: 600;
            color: var(--spy-gold);
            margin-bottom: 10px;
            font-size: 1.1em;
        }
        .info-card-list {
            list-style: none;
            padding: 0;
        }
        .info-card-list li {
            padding: 5px 0;
            color: var(--spy-gray-light);
            font-size: 0.9em;
        }
        .info-card-list li::before {
            content: "‚Üí ";
            color: var(--spy-gold);
        }
        
        .concept-model {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 30px;
            flex-wrap: wrap;
            margin: 30px 0;
        }
        .concept-box {
            background: var(--spy-dark);
            border: 2px solid var(--spy-gray-dark);
            border-radius: 16px;
            padding: 25px 35px;
            text-align: center;
            min-width: 180px;
            transition: all 0.3s ease;
        }
        .concept-box:hover { border-color: var(--spy-gold); }
        .concept-box.trigger-concept { border-color: var(--shopify-green); background: rgba(150,191,72,0.05); }
        .concept-box.condition-concept { border-color: #e67e22; background: rgba(230,126,34,0.05); }
        .concept-box.action-concept { border-color: var(--spy-gold); background: rgba(201,162,39,0.05); }
        .concept-icon { font-size: 2.5em; margin-bottom: 10px; }
        .concept-label { font-weight: 600; font-size: 1.2em; margin-bottom: 5px; }
        .concept-desc { font-size: 0.85em; color: var(--spy-gray); }
        .concept-arrow { font-size: 2.5em; color: var(--spy-gray); }
        
        .troubleshoot-item {
            background: var(--spy-dark);
            border: 1px solid var(--spy-gray-dark);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 15px;
        }
        .troubleshoot-item:hover { border-color: var(--spy-gold); }
        .troubleshoot-problem {
            font-weight: 600;
            color: #e74c3c;
            margin-bottom: 8px;
            font-size: 1em;
        }
        .troubleshoot-solution {
            color: var(--spy-gray-light);
            font-size: 0.9em;
            padding-left: 16px;
            border-left: 2px solid var(--spy-gold);
        }
        
        .footer-text {
            text-align: center;
            color: var(--spy-gray);
            margin-top: 40px;
            font-size: 0.9em;
        }
        .footer-text span { color: var(--spy-gold); }
    </style>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        const Arrow = ({ reverse }) => <span className={`arrow ${reverse ? 'reverse' : ''}`}>{reverse ? '‚Üê' : '‚Üí'}</span>;
        
        const FlowBox = ({ icon, title, desc, type }) => (
            <div className={`flow-box ${type}`}>
                <div className="flow-box-icon">{icon}</div>
                <div className="flow-box-title">{title}</div>
                <div className="flow-box-desc">{desc}</div>
            </div>
        );
        
        const DocCard = ({ title, subtitle, desc, type, path }) => (
            <div className={`doc-card ${type}`}>
                <div className="doc-card-title">{title}</div>
                <div className="doc-card-full">{subtitle}</div>
                <div className="doc-card-desc">{desc}</div>
                {path && <div className="code-path">{path}</div>}
            </div>
        );
        
        const TroubleshootItem = ({ problem, solution }) => (
            <div className="troubleshoot-item">
                <div className="troubleshoot-problem">‚ùå {problem}</div>
                <div className="troubleshoot-solution">{solution}</div>
            </div>
        );
        
        const ShopifyFlowWorkflow = ({ t = (k) => k, locale = 'da' }) => {
            return (
                <div className="container">
                    <h1>{t("Shopify Flow Integration Workflow")}</h1>
                    <p className="subtitle">{t("Automatisering af Shopify-h√¶ndelser med SPY ERP via Shopify Flow")}</p>
                    
                    <div className="legend">
                        <div className="legend-item">
                            <div className="legend-color shopify"></div>
                            <span>{t("Shopify")}</span>
                        </div>
                        <div className="legend-item">
                            <div className="legend-color flow"></div>
                            <span>{t("Shopify Flow")}</span>
                        </div>
                        <div className="legend-item">
                            <div className="legend-color condition"></div>
                            <span>{t("Betingelse")}</span>
                        </div>
                        <div className="legend-item">
                            <div className="legend-color spy"></div>
                            <span>{t("SPY System")}</span>
                        </div>
                    </div>
                    
                    {/* What is Shopify Flow */}
                    <div className="workflow-section">
                        <h2 className="section-title">{t("üîÑ Hvad er Shopify Flow?")}</h2>
                        <p style={{color: '#b3b3b3', marginBottom: '20px', lineHeight: '1.6'}}>
                            {t("Shopify Flow er Shopify's visuelle automationsv√¶rkt√∏j, der lader dig bygge workflows baseret p√• en simpel model: Trigger ‚Üí Betingelse ‚Üí Handling. Alle flows starter med en h√¶ndelse i Shopify og kan udl√∏se API-kald til SPY ERP.")}
                        </p>
                        <div className="concept-model">
                            <div className="concept-box trigger-concept">
                                <div className="concept-icon">‚ö°</div>
                                <div className="concept-label">{t("Trigger")}</div>
                                <div className="concept-desc">{t("H√¶ndelse i Shopify")}</div>
                            </div>
                            <div className="concept-arrow">‚Üí</div>
                            <div className="concept-box condition-concept">
                                <div className="concept-icon">üîÄ</div>
                                <div className="concept-label">{t("Betingelse")}</div>
                                <div className="concept-desc">{t("Valgfri filtrering")}</div>
                            </div>
                            <div className="concept-arrow">‚Üí</div>
                            <div className="concept-box action-concept">
                                <div className="concept-icon">üéØ</div>
                                <div className="concept-label">{t("Handling")}</div>
                                <div className="concept-desc">{t("API-kald til SPY")}</div>
                            </div>
                        </div>
                    </div>
                    
                    {/* Flow 1: Order Created */}
                    <div className="workflow-section">
                        <h2 className="section-title">{t("üõí Ordre oprettet ‚Üí Synkroniser til SPY")}</h2>
                        <div className="flow-container">
                            <FlowBox icon="üõí" title={t("Ordre oprettet")} desc={t("Ny ordre i Shopify")} type="shopify" />
                            <Arrow />
                            <FlowBox icon="‚ö°" title={t("Flow Trigger")} desc={t("order_created event")} type="flow" />
                            <Arrow />
                            <FlowBox icon="üîÑ" title={t("HTTP Webhook")} desc={t("POST til SPY API")} type="flow" />
                            <Arrow />
                            <FlowBox icon="üìã" title={t("SPY Ordre")} desc={t("Ordre + kunde + linjer")} type="spy" />
                            <Arrow />
                            <FlowBox icon="‚úÖ" title={t("Bekr√¶ftet")} desc={t("Ordre klar til behandling")} type="spy" />
                        </div>
                        <div style={{marginTop: '12px', padding: '10px 16px', background: 'rgba(201,162,39,0.08)', borderRadius: '8px', fontSize: '0.85em', color: '#b3b3b3'}}>
                            <strong style={{color: '#c9a227'}}>{t("üí° Data sendt:")}</strong> {t("Ordrenummer, kundedata (navn, email, adresse), ordrelinjer (SKU, antal, pris), betalingsmetode, forsendelsesinfo.")}
                        </div>
                    </div>
                    
                    {/* Flow 2: Inventory Changed */}
                    <div className="workflow-section">
                        <h2 className="section-title">{t("üì¶ Lagerbeholdning √¶ndret ‚Üí Opdater SPY")}</h2>
                        <div className="flow-container">
                            <FlowBox icon="üì¶" title={t("Lager√¶ndring")} desc={t("Inventory level √¶ndret")} type="shopify" />
                            <Arrow />
                            <FlowBox icon="‚ö°" title={t("Flow Trigger")} desc={t("inventory_quantity_changed")} type="flow" />
                            <Arrow />
                            <FlowBox icon="üîÄ" title={t("Tjek kilde")} desc={t("Ikke fra SPY selv?")} type="condition" />
                            <Arrow />
                            <FlowBox icon="üîÑ" title={t("HTTP Webhook")} desc={t("PUT til SPY Stock API")} type="flow" />
                            <Arrow />
                            <FlowBox icon="üìä" title={t("SPY Lager")} desc={t("Beholdning opdateret")} type="spy" />
                        </div>
                        <div style={{marginTop: '12px', padding: '10px 16px', background: 'rgba(230,126,34,0.08)', borderRadius: '8px', fontSize: '0.85em', color: '#b3b3b3'}}>
                            <strong style={{color: '#e67e22'}}>{t("‚ö†Ô∏è Vigtigt:")}</strong> {t("Brug betingelsen til at filtrere √¶ndringer der stammer fra SPY selv, s√• du undg√•r uendelige sync-loops.")}
                        </div>
                    </div>
                    
                    {/* Flow 3: Order Fulfilled */}
                    <div className="workflow-section">
                        <h2 className="section-title">{t("üöö Ordre afsendt ‚Üí Opdater SPY leveringsstatus")}</h2>
                        <div className="flow-container">
                            <FlowBox icon="üöö" title={t("Ordre fulfilled")} desc={t("Forsendelse registreret")} type="shopify" />
                            <Arrow />
                            <FlowBox icon="‚ö°" title={t("Flow Trigger")} desc={t("order_fulfilled event")} type="flow" />
                            <Arrow />
                            <FlowBox icon="üîÑ" title={t("HTTP Webhook")} desc={t("PATCH til SPY Delivery")} type="flow" />
                            <Arrow />
                            <FlowBox icon="üìÑ" title={t("SPY Levering")} desc={t("Status: Afsendt")} type="spy" />
                            <Arrow />
                            <FlowBox icon="üìß" title={t("Notifikation")} desc={t("Track & trace opdateret")} type="spy" />
                        </div>
                    </div>
                    
                    {/* Flow 4: Customer Created */}
                    <div className="workflow-section">
                        <h2 className="section-title">{t("üë§ Kunde oprettet ‚Üí Synkroniser til SPY")}</h2>
                        <div className="flow-container">
                            <FlowBox icon="üë§" title={t("Ny kunde")} desc={t("Kunde oprettet i Shopify")} type="shopify" />
                            <Arrow />
                            <FlowBox icon="‚ö°" title={t("Flow Trigger")} desc={t("customer_created event")} type="flow" />
                            <Arrow />
                            <FlowBox icon="üîÑ" title={t("HTTP Webhook")} desc={t("POST til SPY Customer")} type="flow" />
                            <Arrow />
                            <FlowBox icon="üóÇÔ∏è" title={t("SPY Kundedatabase")} desc={t("Kunde oprettet/matched")} type="spy" />
                        </div>
                        <div style={{marginTop: '12px', padding: '10px 16px', background: 'rgba(201,162,39,0.08)', borderRadius: '8px', fontSize: '0.85em', color: '#b3b3b3'}}>
                            <strong style={{color: '#c9a227'}}>{t("üí° Duplikath√•ndtering:")}</strong> {t("SPY matcher f√∏rst p√• email/CVR-nummer. Eksisterende kunder opdateres, nye oprettes automatisk.")}
                        </div>
                    </div>
                    
                    {/* Flow 5: Order Tagged ‚Üí B2B */}
                    <div className="workflow-section">
                        <h2 className="section-title">{t("üè∑Ô∏è Ordre tagget ‚Üí Route til SPY B2B-modul")}</h2>
                        <div className="flow-container">
                            <FlowBox icon="üè∑Ô∏è" title={t("Ordre tagget")} desc={t("Tag: 'wholesale'")} type="shopify" />
                            <Arrow />
                            <FlowBox icon="‚ö°" title={t("Flow Trigger")} desc={t("order_tags_added event")} type="flow" />
                            <Arrow />
                            <FlowBox icon="üîÄ" title={t("Tjek tag")} desc={t("Tag = 'wholesale'?")} type="condition" />
                            <Arrow />
                            <FlowBox icon="üîÑ" title={t("HTTP Webhook")} desc={t("POST til SPY B2B API")} type="flow" />
                            <Arrow />
                            <FlowBox icon="üè¢" title={t("SPY B2B")} desc={t("Engrosordre oprettet")} type="spy" />
                        </div>
                    </div>
                    
                    {/* Flow 6: Product Updated */}
                    <div className="workflow-section">
                        <h2 className="section-title">{t("üëó Produkt opdateret ‚Üí Synkroniser til SPY")}</h2>
                        <div className="flow-container">
                            <FlowBox icon="üëó" title={t("Produkt √¶ndret")} desc={t("Titel/pris/variant")} type="shopify" />
                            <Arrow />
                            <FlowBox icon="‚ö°" title={t("Flow Trigger")} desc={t("product_updated event")} type="flow" />
                            <Arrow />
                            <FlowBox icon="üîÄ" title={t("Tjek √¶ndring")} desc={t("Pris eller variant?")} type="condition" />
                            <Arrow />
                            <FlowBox icon="üîÑ" title={t("HTTP Webhook")} desc={t("PUT til SPY Product")} type="flow" />
                            <Arrow />
                            <FlowBox icon="üìã" title={t("SPY Produkt")} desc={t("Data synkroniseret")} type="spy" />
                        </div>
                    </div>
                    
                    {/* Integration Points */}
                    <div className="workflow-section">
                        <h2 className="section-title">{t("üîå SPY Integrationspunkter")}</h2>
                        <div className="info-grid">
                            <div className="info-card">
                                <div className="info-card-title">{t("üì° Webhook Endpoints")}</div>
                                <ul className="info-card-list">
                                    <li>POST /api/v1/shopify/orders</li>
                                    <li>POST /api/v1/shopify/customers</li>
                                    <li>PUT /api/v1/shopify/inventory</li>
                                    <li>PATCH /api/v1/shopify/fulfillment</li>
                                    <li>POST /api/v1/shopify/b2b/orders</li>
                                    <li>PUT /api/v1/shopify/products</li>
                                </ul>
                            </div>
                            <div className="info-card">
                                <div className="info-card-title">{t("üîê Autentificering")}</div>
                                <ul className="info-card-list">
                                    <li>{t("HMAC-SHA256 signaturvalidering")}</li>
                                    <li>{t("API-n√∏gle i X-SPY-Auth header")}</li>
                                    <li>{t("IP-whitelist for Shopify")}</li>
                                    <li>{t("Rate limit: 120 req/min")}</li>
                                </ul>
                            </div>
                            <div className="info-card">
                                <div className="info-card-title">{t("‚ö° Real-time Sync")}</div>
                                <ul className="info-card-list">
                                    <li>{t("Shopify Flow ‚Üí SPY: Webhook (< 5 sek)")}</li>
                                    <li>{t("SPY ‚Üí Shopify: REST API push")}</li>
                                    <li>{t("Fallback: Scheduled sync hvert 15. min")}</li>
                                    <li>{t("Dead letter queue for fejlede kald")}</li>
                                </ul>
                            </div>
                            <div className="info-card">
                                <div className="info-card-title">{t("üìä Data Mapping")}</div>
                                <ul className="info-card-list">
                                    <li>{t("Shopify SKU ‚Üí SPY Varenummer")}</li>
                                    <li>{t("Shopify Variant ‚Üí SPY Farve+St√∏rrelse")}</li>
                                    <li>{t("Shopify Location ‚Üí SPY Lager")}</li>
                                    <li>{t("Shopify Customer ‚Üí SPY Debitor")}</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    
                    {/* Best Practices */}
                    <div className="workflow-section">
                        <h2 className="section-title">{t("‚úÖ Best Practices")}</h2>
                        <div className="info-grid">
                            <div className="info-card">
                                <div className="info-card-title">{t("üîÅ Fejlh√•ndtering & Retry")}</div>
                                <ul className="info-card-list">
                                    <li>{t("Implementer idempotente endpoints (brug Shopify order ID)")}</li>
                                    <li>{t("Retry med exponential backoff (1s, 2s, 4s, 8s)")}</li>
                                    <li>{t("Max 5 retries, derefter dead letter queue")}</li>
                                    <li>{t("Log alle fejlede requests med payload")}</li>
                                    <li>{t("Ops√¶t alerts for gentagne fejl")}</li>
                                </ul>
                            </div>
                            <div className="info-card">
                                <div className="info-card-title">{t("üß™ Test & Validering")}</div>
                                <ul className="info-card-list">
                                    <li>{t("Test altid i Shopify dev-butik f√∏rst")}</li>
                                    <li>{t("Brug Shopify Flow's 'Run test' funktion")}</li>
                                    <li>{t("Verificer webhook payloads i SPY loggen")}</li>
                                    <li>{t("Test edge cases: 0-bel√∏b, annullering, refund")}</li>
                                    <li>{t("Tjek data i SPY efter hver test-k√∏rsel")}</li>
                                </ul>
                            </div>
                            <div className="info-card">
                                <div className="info-card-title">{t("üõ°Ô∏è Sikkerhed")}</div>
                                <ul className="info-card-list">
                                    <li>{t("Valider ALLTID webhook-signatur")}</li>
                                    <li>{t("Brug HTTPS for alle endpoints")}</li>
                                    <li>{t("Roter API-n√∏gler hver 90. dag")}</li>
                                    <li>{t("Begr√¶ns adgang med IP-whitelist")}</li>
                                </ul>
                            </div>
                            <div className="info-card">
                                <div className="info-card-title">{t("üìà Performance")}</div>
                                <ul className="info-card-list">
                                    <li>{t("Batch-processer ved bulk inventory updates")}</li>
                                    <li>{t("Brug async queue for tunge operationer")}</li>
                                    <li>{t("Cach Shopify product data lokalt")}</li>
                                    <li>{t("Monitorer responstider (m√•l: < 2 sek)")}</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    
                    {/* Troubleshooting */}
                    <div className="workflow-section">
                        <h2 className="section-title">{t("üîß Fejlfinding")}</h2>
                        <TroubleshootItem 
                            problem={t("Ordrer synkroniserer ikke til SPY")}
                            solution={t("Tjek: 1) Er Flow aktiveret i Shopify admin? 2) Er webhook-URL korrekt? 3) Returnerer SPY API 200? 4) Tjek SPY's import-log for fejlbeskeder. 5) Verificer at API-n√∏glen er gyldig.")}
                        />
                        <TroubleshootItem 
                            problem={t("Lagerbeholdning kommer i uendelig loop")}
                            solution={t("Tilf√∏j en betingelse i Flow der tjekker 'source' feltet. Filtrer √¶ndringer der stammer fra SPY's egen API. Brug et custom metafield som 'spy_sync_source' til at markere SPY-opdateringer.")}
                        />
                        <TroubleshootItem 
                            problem={t("Webhook-kald fejler med 401 Unauthorized")}
                            solution={t("Verificer: 1) API-n√∏gle er korrekt i Flow's HTTP-action header. 2) IP-whitelist inkluderer Shopify's IP-ranges. 3) API-n√∏glen ikke er udl√∏bet. Tjek SPY's auth-log.")}
                        />
                        <TroubleshootItem 
                            problem={t("Kundedata matcher ikke i SPY")}
                            solution={t("SPY matcher p√• email (prim√¶r) og CVR-nummer (B2B). Tjek at Shopify-kunden har valid email. For B2B: s√∏rg for at company info med CVR/VAT-nummer er udfyldt i Shopify.")}
                        />
                        <TroubleshootItem 
                            problem={t("Flow k√∏rer men SPY modtager ikke data")}
                            solution={t("Tjek Flow's k√∏rselshistorik i Shopify admin ‚Üí Settings ‚Üí Shopify Flow ‚Üí Activity. Se efter HTTP response codes. Test webhook-URL direkte med curl/Postman.")}
                        />
                    </div>
                    
                    {/* External docs */}
                    <div className="workflow-section" style={{textAlign: 'center'}}>
                        <h2 className="section-title">{t("üîó Ekstern dokumentation")}</h2>
                        <p style={{color: '#b3b3b3', marginBottom: '12px'}}>
                            {t("Shopify Flow officiel dokumentation:")}
                        </p>
                        <a href="https://help.shopify.com/en/manual/shopify-flow" target="_blank" 
                           style={{color: '#96bf48', fontSize: '1.1em', textDecoration: 'none', borderBottom: '1px solid #96bf48'}}>
                            üìñ help.shopify.com/en/manual/shopify-flow
                        </a>
                        <br/><br/>
                        <a href="https://shopify.dev/docs/apps/flow" target="_blank" 
                           style={{color: '#96bf48', fontSize: '1.1em', textDecoration: 'none', borderBottom: '1px solid #96bf48'}}>
                            üõ†Ô∏è shopify.dev/docs/apps/flow
                        </a>
                    </div>
                    
                    <p className="footer-text">
                        {t("Genereret af")} <span>Nova</span> | SPY ApS | {new Date().toLocaleDateString(locale === 'en' ? 'en-GB' : 'da-DK')}
                    </p>
                </div>
            );
        };
        
        // Initialize i18n and render with translations
        (async function() {
            const { locale, t } = await window.i18n.initI18n('shopify-flow-workflow');
            ReactDOM.render(<ShopifyFlowWorkflow />, document.getElementById('root'));
            window.i18n.autoApplyTranslations(200);
        })();
    </script>
</body>
</html>
